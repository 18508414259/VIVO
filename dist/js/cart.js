"use strict";var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return!0===t.isSelect}),n='\n      <div class="centop">\n        <ul >\n            <li>\n                <input class="selectAll" type="checkbox" '.concat(t?"checked":""," >全选                \n            </li>\n            <li>商品名称</li>\n            <li>价格(元)</li>\n            <li>数量</li>\n            \n            <li>小计(元)</li>\n            <li>操作</li>\n        </ul> \n      </div>\n      ");cartList.forEach(function(t){n+='\n        <ul class="centerZ">\n        <li class="sel">\n            <input data-id='.concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n        </li>\n        <li class="info">\n            <img src="').concat(t.img,'" alt="">\n        </li>\n        <li class="txt">\n            <p>').concat(t.name,'</p>\n        </li>\n        <li class="pr">\n            <p class="price">').concat(t.pires,'</p>\n        </li>\n        <li class="number">\n            <button class="sub" data-id=').concat(t.id,'>-</button>\n            <input class="int2" type="text" value="').concat(t.number,'">\n            <button class="add" data-id=').concat(t.id,'>+</button>\n        </li>\n        <li class="xj">\n            <p class="xiaoji">￥').concat(t.xiaoji.toFixed(2),'</p>\n        </li>\n        <li class="del" data-id=').concat(t.id,">删除</li>\n        </ul>   \n        ")});var i=cartList.filter(function(t){return t.isSelect}),c=0,a=0;i.forEach(function(t){c+=t.number,a+=t.xiaoji}),n+='\n      <div class="bottom">\n            <p>选择的数量<span>'.concat(c,"</span></p>\n            <p>总价：<span>￥").concat(a.toFixed(2),'</span></p>\n            <button class="paly" ').concat(i.length?"":"disabled",">支付</button>\n      </div>\n      \n      \n      \n      \n      \n      "),$(".center").html(n)}function bindEvent(){$(".center").on("change",".selectAll",function(){var n=this;console.log(this.checked),cartList.forEach(function(t){t.isSelect=n.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("change",".selectOne",function(){console.log($(this).data("id"));var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("click",".sub",function(){console.log(this);var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(1<t.number&&t.number--,t.xiaoji=t.pires*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("click",".add",function(){var n=$(this).data("id");cartList.forEach(function(t){t.id===n&&(t.number++,t.xiaoji=t.number*t.pires)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".center").on("click",".del",function(){var n=$(this).data("id");cartList=cartList.filter(function(t){return t.id!=n}),localStorage.setItem("cartList",JSON.stringify(cartList)),bindHtml()})}cartList?(bindHtml(),bindEvent()):alert("您的购物车为空, 快去选购把");